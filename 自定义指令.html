<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>

</head>
<body>
    <div id="box">
        <p v-color="str">Lorem ipsum dolor sit amet consectetur adipisicing elit. Aperiam, hic, voluptate non, sapiente ut repellendus quia iure repudiandae sequi ullam modi saepe ratione. Voluptas est similique at eaque, officia nobis?</p>
        <button @click="tap()">点击</button>
    </div>
    
</body>
    <script>
        // 全局写法
        // Vue.directive("color",{
        //     inserted:function(a){
        //         a.style.color="pink"
        //     }
        // })
        // 私有写法
        // var vm=new Vue({
        //     el:"#box",
        //     methods:{
        //         tap(){
                    
        //         }
        //     },
        //     directives:{
        //         'color':{
        //             inserted:function(a){
        //                 a.style.color='blue'
        //             }
        //         }
        //     }
        // })

 
        // var vm=new Vue({
        //     el:"#box",
        //     data:{
        //         str:"red"
        //     },
        //     directives:{
        //         'color':{
        //             inserted:function(a,b){
        //                 console.log(a)
        //                 console.log(b)
        //                 console.log(b.value)
        //                 a.style.color=b.value;
        //             }
        //         }
        //     }
        // }) 




        var vm=new Vue({
           el:"#box",
            data:{
                str:"red"
            },
            directives:{
                'color':function(a,b){
                a.style.color=b.value
            }
            },           
            methods:{
                tap(){
                    this.str='pink'
                }
            }
        })
    </script>
</html>